(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-voice-speech_history"],{"1acb":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-13406546]{background:#f6f8fb}body.?%PAGE?%[data-v-13406546]{background:#f6f8fb}.cont_title[data-v-13406546]{color:#000;font-size:%?30?%;font-style:normal;font-weight:500;text-align:center;padding:%?20?% 0}.list_ul[data-v-13406546]{padding:%?15?% %?10?%;margin-bottom:%?30?%;width:calc(100% - %?20?%)}.ul_style[data-v-13406546]{display:flex;flex-direction:column;padding:%?15?% %?20?%}.li_style[data-v-13406546]{display:flex;align-items:center;box-shadow:%?0?% %?0?% %?10?% rgba(0,0,0,.14);border-radius:%?10?%;padding:%?25?%;width:calc(102%);background:#fff}.li_style .ul_right[data-v-13406546]{flex:1}.li_style .ul_img[data-v-13406546]{padding:%?10?%}.li_style .ul_img .avatar_img[data-v-13406546]{width:%?80?%;height:%?80?%;border-radius:%?8?%}.li_top[data-v-13406546]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?18?%}.top_l[data-v-13406546]{font-weight:500;font-size:%?30?%;line-height:%?42?%;color:#000;width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.top_r[data-v-13406546]{font-weight:400;font-size:%?24?%;line-height:%?30?%;color:#6e7480}.li_btn[data-v-13406546]{font-weight:400;font-size:%?28?%;line-height:%?35?%;display:flex;align-items:center;justify-content:space-between}.li_btn .btn_l[data-v-13406546]{color:#a4a4a4;font-size:%?28?%;font-weight:400;line-height:150%;padding:%?5?% %?0?%;line-height:%?48?%}.li_btn .btn_r[data-v-13406546]{color:#000;font-size:%?28?%;font-weight:400;line-height:150%;padding:%?5?% %?0?%;line-height:%?48?%}.on_order[data-v-13406546]{display:flex;align-items:center;justify-content:center;height:100vh;width:100vw}.order_img[data-v-13406546]{width:%?450?%;height:%?450?%}.on_order_list[data-v-13406546]{display:flex;align-items:center;justify-content:center;font-size:%?28?%;height:%?100?%;line-height:%?100?%;width:100vw;color:#c0c4cc}.text_conts[data-v-13406546]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:%?20?% %?30?% 0 %?30?%}.text_conts .text_u[data-v-13406546]{display:flex;align-items:center}.text_conts .text_u .u_li[data-v-13406546]{color:#9a9a9a;text-align:center;font-size:%?22?%;font-style:normal;font-weight:400;margin-right:%?10?%}.text_conts .text_u .add_img[data-v-13406546]{width:%?38?%;height:%?38?%}.text_conts .text_u .add_li[data-v-13406546]{color:#1f64ff;font-size:%?28?%;font-style:normal;font-weight:500;line-height:150%;padding-left:%?10?%}.text_conts .text_u .qs_img[data-v-13406546]{width:%?40?%;height:%?40?%;margin-left:%?20?%}.text_conts .text_u .text_r[data-v-13406546]{color:#000;font-size:%?32?%;font-weight:500;line-height:%?50?%;margin-right:%?10?%}.li_edit[data-v-13406546]{display:flex;align-items:center;justify-content:space-around;margin:0 %?10?%;margin-top:%?20?%}.li_edit .edit_l[data-v-13406546]{color:#1f64ff;font-size:%?28?%;font-weight:400;line-height:150%;width:25%;text-align:center;border:%?1?% solid #1f64ff;padding:%?10?% %?30?%;border-radius:%?8?%}.li_edit .edit_line[data-v-13406546]{width:1px;height:18px;background:#edeef7}.top_cont[data-v-13406546]{width:100%;height:%?122?%;background:#fff;position:fixed;top:0;z-index:10}.search_cont[data-v-13406546]{width:calc(100% - %?50?%);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:%?25?% %?25?% 0 %?25?%;background:#fff}.search[data-v-13406546]{width:90%;height:%?72?%;background:#f6f6f6;border-radius:%?100?%;display:flex;align-items:center;justify-content:center;padding:0 %?32?%}.search_input[data-v-13406546]{flex:1}.search_img[data-v-13406546]{width:%?36?%;height:%?36?%}.chat_type[data-v-13406546]{display:flex;align-items:center;width:100%;padding:%?15?% 0;flex-wrap:wrap;flex:1}.chat_type .tabs[data-v-13406546]{width:22%;background:#f8f8f9;border-radius:%?6?%;padding:%?16?% 0;margin:%?10?% 1.5%;font-style:normal;font-weight:500;font-size:%?28?%;line-height:150%;color:#333;display:flex;align-items:center;justify-content:center}.chat_type .active_tabs[data-v-13406546]{width:22%;background:rgba(31,100,255,.15);border-radius:%?6?%;padding:%?16?% 0;margin:%?10?% 1.5%;font-style:normal;font-weight:500;font-size:%?28?%;line-height:150%;color:#1f64ff;display:flex;align-items:center;justify-content:center}.pop_cont[data-v-13406546]{padding:%?30?%;display:flex;align-items:center;justify-content:center;flex-direction:column}.pop_cont .pop_img[data-v-13406546]{width:%?300?%;height:%?300?%}.pop_cont .pop_stop[data-v-13406546]{color:#fff;font-size:%?30?%;font-weight:400;line-height:150%;width:70%;background:#1f64ff;padding:%?15?% %?0?%;border-radius:%?8?%;margin-top:%?30?%;text-align:center}",""]),t.exports=e},4048:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uPopup:i("d5fe").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"top_cont"},[n("v-uni-view",{staticClass:"search_cont"},[n("v-uni-view",{staticClass:"search"},[n("v-uni-image",{staticClass:"search_img",attrs:{src:i("f259")}}),n("v-uni-input",{staticClass:"search_input",attrs:{placeholder:"请输入搜索内容",type:"text"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)],1)],1),n("v-uni-view",{staticClass:"chat_cont",staticStyle:{"margin-top":"120upx"}},[t.chatList.length>0?n("v-uni-scroll-view",{staticClass:"list_ul",attrs:{"scroll-y":"true"}},t._l(t.chatList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"ul_style"},[n("v-uni-view",{staticClass:"li_style",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkDetail(e.h_code)}}},[n("v-uni-view",{staticClass:"ul_right"},[n("v-uni-view",{staticClass:"li_top"},[n("v-uni-text",{staticClass:"top_l"},[t._v(t._s(e.title))]),n("v-uni-image",{staticStyle:{width:"48upx",height:"48upx"},attrs:{src:t.delImg},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.delPhoto(e.h_code)}}})],1),n("v-uni-view",{staticClass:"li_btn"},[n("v-uni-view",{staticClass:"btn_l"},[t._v("时间")]),n("v-uni-view",{staticClass:"btn_r"},[t._v(t._s(e.create_time))])],1),n("v-uni-view",{staticClass:"li_edit"},[n("v-uni-view",{staticClass:"edit_l",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.play(e.speech_url)}}},[t._v("播放")]),n("v-uni-view",{staticClass:"edit_l",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.saveShare(e.speech_url)}}},[t._v("下载")])],1)],1)],1)],1)})),1):n("v-uni-view",{staticClass:"on_order"},[n("v-uni-image",{staticClass:"order_img",attrs:{src:t.backImg}})],1),1==t.loadingType?n("v-uni-view",{staticClass:"on_order_list"},[t._v("没有更多内容了!")]):t._e()],1),n("u-popup",{attrs:{show:t.voiceShow,mode:"center",round:10,closeOnClickOverlay:!1},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.voiceShow=!1}}},[n("v-uni-view",{staticClass:"pop_cont"},[n("v-uni-image",{staticClass:"pop_img",attrs:{src:t.picImg}}),n("v-uni-view",{staticClass:"pop_stop",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.stop.apply(void 0,arguments)}}},[t._v("停止播放")])],1)],1)],1)},o=[]},"4ed4":function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e25e"),i("d3b7"),i("159b"),i("14d9");var n=i("4c53"),a={data:function(){return{loadingType:0,page_no:1,page_count:10,content:"",chatList:[],pageTotal:0,searchValue:"",backImg:t.baseImg+"/xcx/8a3fda0a-67b9-4545-a297-2b516055f560.jpg",addImg:t.baseImg+"/xcx/01fece57-06c7-4eff-ab60-671230d86f80.jpg",delImg:t.baseImg+"/xcx/com/message_center/trash.png",right_img:t.baseImg+"/xcx/com/message_center/chevron-right.png",picImg:t.baseImg+"/xcx/com/message_center/%E6%9C%80%E6%96%B0%E5%8A%A8%E5%9B%BE.gif",voiceShow:!1,innerAudioContext:null}},components:{},onLoad:function(t){this.init()},onShow:function(){this.getChatList()},methods:{init:function(){var t=this;this.innerAudioContext=uni.createInnerAudioContext(),this.innerAudioContext.obeyMuteSwitch=!1,this.innerAudioContext.onPlay((function(){console.log("开始播放")})),this.innerAudioContext.onEnded((function(){console.log("播放停止了"),t.innerAudioContext.stop(),t.voiceShow=!1}))},play:function(e){this.stop(),this.voiceShow=!0;var i=t.baseImg+"/"+e;this.innerAudioContext.src=i,this.innerAudioContext.play()},stop:function(){this.innerAudioContext.stop(),this.voiceShow=!1},search:function(){this.page_no=1,this.loadingType=0,this.getChatList()},getChatList:function(){var t=this,e={page_size:this.page_count,title:this.searchValue,page:this.page_no};(0,n.getTextSpeech)(e).then((function(e){if(2e4==e.code){t.chatList=e.data.data;var i=e.data.total;i%t.page_count==0?t.pageTotal=i/t.page_count:t.pageTotal=parseInt(i/t.page_count)+1,1==t.pageTotal&&(t.loadingType=1)}else t.$api.msg(e.msg)})).catch((function(e){t.$api.msg("获取对话信息失败")}))},onReachBottom:function(){var t=this;if(1!=this.loadingType){this.page_no++;var e={page_size:this.page_count,title:this.searchValue,page:this.page_no};(0,n.getTextSpeech)(e).then((function(e){if(2e4==e.code){var i=e.data.total;if(0==i)return;var n=e.data.data,a=t.chatList;n.forEach((function(t){a.push(t)})),i%t.page_count==0?t.pageTotal=i/t.page_count:t.pageTotal=parseInt(i/t.page_count)+1,t.pageTotal<=t.page_no&&(t.loadingType=1)}else t.$api.msg(e.msg)})).catch((function(e){t.$api.msg("获取对话信息失败")}))}},checkDetail:function(t){uni.navigateTo({url:"/childPage/speech/speech_merge?h_code="+t})},delPhoto:function(t){var e=this;uni.showModal({title:"提示",content:"确定删除该记录吗？",success:function(i){i.confirm&&e.delCont(t)}})},delCont:function(t){var e=this;(0,n.delSpeechDetail)(t).then((function(t){2e4==t.code?(e.$api.msg("删除成功"),e.getChatList()):e.$api.msg(t.msg)}))},saveShare:function(t){uni.showLoading({mask:!0,title:"下载中..."}),uni.downloadFile({url:t,success:function(t){if(console.log(t,1443),200===t.statusCode){var e=document.createElement("a");e.download="",e.href=t.tempFilePath,document.body.appendChild(e),e.click(),e.remove(),uni.hideLoading()}else uni.hideLoading()},fail:function(t){console.log(t,1444),uni.hideLoading()}})}}};e.default=a}).call(this,i("c8ba"))},"5c5f":function(t,e,i){"use strict";i.r(e);var n=i("4ed4"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},6351:function(t,e,i){var n=i("1acb");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("3d856d78",n,!0,{sourceMap:!1,shadowMode:!1})},"8aa52":function(t,e,i){"use strict";i.r(e);var n=i("4048"),a=i("5c5f");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("bcc0");var s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"13406546",null,!1,n["a"],void 0);e["default"]=c.exports},bcc0:function(t,e,i){"use strict";var n=i("6351"),a=i.n(n);a.a},f259:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJiSURBVHgB7ZfRUeMwEIbXqSBXwfkquFwFUSoAKrhcBQcV4FRAqIDQAVQQ5yHPhA5cQnjNQ8K/sAqLEqyV44FhJv+MJrJiyd9Kq9WK6Khvpizl5el06jqdzslms3F4zFG68tcCpUL7PX7LwWBQUUOZgAAyzLLsUiAsmgBu1AQsi4DkALlB1VG6lgI1TunUoXqYaQDDH7lGGaD8cM5lXFD/g/IP/5fq3S76X81ms0tKUBaByX0bg+CngMVLqhH7mczqti+ei36/P6KmQGVZ6pnhWTkDSElGAaorUKe+jWfVMka2Z7ChDOYHYpg7aqDAsArL+yvWZ8eHZDd5mFFTGOnPfuWXOGdjY33eAfH609vaVygTOkC87cX3XgRj/8b6hDN0quoHBTglve0d+xdZgWDBb1+HZbfUgmRXlqrJkRUI6qn6gloSjHtUjzklAG2nMxZvErXc9w0L0JcrBKp8ZT6f/6SWpH2TIq4QAm1fXq1WZ9SetG9WZAWC8818HVadUAsKYxt8M2mGJqruZLCDpCM/vd/+cSDeWTr+8JkWC2R1Qurxn1Tc4aMo1mffLitInT+c01ADwZAeAMYK5toS+XeA5PzRlgxxaj9wjkRG8cxIPuXFBhaWvh+msAAogvWv8DxZr9e3H1kqyRn3cTsfMiZpsZw6hPIq0b4A3JN8jGMWH8yhvy11mwUqeuvYl5Ja5FNelHNtVAzKfC+TTJLzGVfzmt+lY72s4UzXQSVdFGVwXoKeFL8cFcqiLuhZoZKBDlEIhdm8CO9tn3ra4+NFEFLy8J1PTz8E6oJej6mkW+1RR1n0DFMuJYmylwERAAAAAElFTkSuQmCC"}}]);