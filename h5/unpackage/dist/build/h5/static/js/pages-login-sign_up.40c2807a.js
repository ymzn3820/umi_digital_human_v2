(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-sign_up"],{"19a7":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,"uni-page-body[data-v-16eb0522]{background:#fff}body.?%PAGE?%[data-v-16eb0522]{background:#fff}",""]),e.exports=t},2976:function(e,t,n){"use strict";(function(e){n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("498a"),n("ac1f"),n("00b4"),n("e9c4");var o=n("5c9b"),i=n("4c53"),a={data:function(){return{InvitationCode:"",phone:"",code:"",tips:"",seconds:60,selectCheck:0,user_code:"",invite_user_code:"",company_code:"",imageCode:"",imageId:"",imgUrl:"",show:!1,isClick:!0,ticket:"",randstr:""}},onLoad:function(e){console.log(e),e.company_code&&(this.invite_user_code=e.user_code,this.company_code=e.company_code),e.phone&&(this.phone=e.phone)},onShow:function(){null!=uni.getStorageSync("userInfo")&&""!=uni.getStorageSync("userInfo")||this.guessLogin()},mounted:function(){var e=JSON.parse(uni.getStorageSync("userInfo"));e&&(this.user_code=e.user_code)},methods:{toLogin:function(){uni.navigateTo({url:"/pages/login/login"})},callback:function(e){console.log(e,"res");0===e.ret?(this.ticket=e.ticket,this.randstr=e.randstr,this.changeKey()):console.log("验证失败")},varify:function(){var e=new TencentCaptcha("193069182",this.callback);e.show()},goToLogin:function(){var t=this;if(""==this.phone)return uni.showModal({title:"请输入手机号码",showCancel:!1,success:function(){console.log("dianji")}});if(""==this.code)return uni.showModal({title:"请输入验证码",showCancel:!1,success:function(){console.log("dianji")}});if(""==this.InvitationCode.trim())return uni.showModal({title:"请输入邀请码",showCancel:!1,success:function(){console.log("dianji")}});if(0==this.selectCheck)return uni.showModal({title:"请选择同意用户协议和隐私政策",showCancel:!1,success:function(){console.log("dianji")}});var n=uni.getStorageSync("loginCode"),o={mobile:this.phone,code:this.code,invitation_code:this.InvitationCode,user_code:this.user_code};n&&"user"==n.role&&(o.parent_user_code=n.parent_user_code),uni.showLoading({title:"注册中..."});var i={"content-type":"application/x-www-form-urlencoded",source:e.source};uni.request({url:e.loginUrl+"/api/user/mobile_register",data:o,header:i,method:"POST",success:function(e){console.log(e,1147),2e4==e.data.code?(t.$api.msg("注册成功"),uni.switchTab({url:"/pages/user/user"}),uni.hideLoading()):(t.$api.msg(e.data.msg),uni.hideLoading())}})},radioChange:function(e){this.selectCheck=e.detail.value[0]},onChooseavatar:function(e){console.log(e,"bindchooseavatar")},getPhoneNumber:function(e){console.log(e.detail.code,"console.log(e.detail.code)")},codeChange:function(e){this.tips=e},getImgCode:function(){var e=this;(0,o.image_code)({image_id:this.imageId}).then((function(t){2e4==t.code&&(e.imgUrl=t.data.image_code,e.imageId=t.data.image_id)}))},getCode:function(){return""==this.phone?uni.showModal({title:"请输入手机号码",showCancel:!1,success:function(){console.log("dianji")}}):/^((13[0-9])|(14[5,7])|(15[0-3,5-9])|(17[0,3,5-8])|(18[0-9])|166|198|199|(147))\d{8}$/.test(this.phone)?void this.varify():uni.showModal({title:"请输入正确的手机号码",showCancel:!1,success:function(){console.log("dianji")}})},end:function(){uni.$u.toast("倒计时结束")},start:function(){uni.$u.toast("倒计时开始，时效60秒")},guessLogin:function(){var t=this,n={time:(new Date).getTime()};uni.request({url:e.loginUrl+"/api/user/create_temp_user",data:n,header:{"content-type":"application/x-www-form-urlencoded",source:"xcx"},method:"POST",success:function(e){2e4==e.data.code?(uni.setStorageSync("userInfo",JSON.stringify(e.data.data)),t.user_code=e.data.data.user_code,uni.navigateBack(2)):console.log("注册失败")}})},creatMe:function(e,t,n){var o=this,a={user_id:e,photo:n,name:t,greeting:"我是您的孪生数字人，遇事不决的时候，您可以问我，我会给您回答，供您参考，现在开始问我吧！"};(0,i.creatMe)(a).then((function(t){2e4==t.code?o.batchTutor(e,t.data.me_id):(o.$api.msg(t.msg),uni.hideLoading())})).catch((function(e){o.$api.msg("创建失败"),uni.hideLoading()}))},batchTutor:function(e,t){var n=this;(0,i.batchTutor)({user_id:e,me_id:t}).then((function(e){2e4==e.code?(uni.hideLoading(),""==n.company_code?uni.navigateBack({delta:1}):uni.redirectTo({url:"/pages/user/company/company_list?user_code="+n.invite_user_code+"&company_code="+n.company_code})):(uni.hideLoading(),n.$api.msg(e.msg))}))},checkAgree:function(){uni.navigateTo({url:"/pages/agree/agree?agree_type=4"})},checkSecret:function(){uni.navigateTo({url:"/pages/agree/agree?agree_type=1"})},closeKey:function(){this.imageCode="",this.imageId="",this.show=!1},changeKey:function(){var e=this;this.$refs.uCode.canGetCode?(uni.showLoading({title:"正在获取验证码"}),this.show=!1,this.isClick=!0,(0,o.send_code)({mobile:this.phone,Ticket:this.ticket,action:"web",Randstr:this.randstr}).then((function(t){2e4==t.code?(uni.hideLoading(),uni.$u.toast("验证码已发送"),e.$refs.uCode.start(),e.imageId="",e.imageCode=""):e.$api.msg(t.msg)}))):uni.$u.toast("倒计时结束后再发送")}}};t.default=a}).call(this,n("c8ba"))},"40ea":function(e,t,n){"use strict";n.r(t);var o=n("2976"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},4685:function(e,t,n){"use strict";n.r(t);var o=n("9192"),i=n("40ea");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("5a70"),n("a06a");var c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"16eb0522",null,!1,o["a"],void 0);t["default"]=s.exports},"5a70":function(e,t,n){"use strict";var o=n("90df"),i=n.n(o);i.a},"90df":function(e,t,n){var o=n("19a7");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("37c492df",o,!0,{sourceMap:!1,shadowMode:!1})},9192:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={uInput:n("34d4").default,"u-Text":n("99d8").default,uToast:n("b738").default,uCode:n("a081").default,uButton:n("f7d8").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{attrs:{id:"phone"}},[n("v-uni-view",{staticClass:"hello"},[e._v("您好,")]),n("v-uni-view",{staticClass:"title"},[e._v("欢迎来到短视频数字人平台")]),n("v-uni-view",{staticClass:"loginInput"},[n("u-input",{attrs:{placeholder:"请输入手机号码",border:"bottom",color:"#000"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}},[n("u--text",{attrs:{slot:"prefix",text:"手机号",margin:"0 3px 0 0",type:"info"},slot:"prefix"})],1),n("u-input",{attrs:{placeholder:"请输入验证码",border:"bottom",color:"#000",customStyle:{"padding-right":"0px"}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[n("u--text",{attrs:{slot:"prefix",text:"验证码",color:"#333333",margin:"0 3px 0 0",type:"info"},slot:"prefix"}),n("template",{slot:"suffix"},[n("u-toast",{ref:"uToast"}),n("u-code",{ref:"uCode",attrs:{seconds:e.seconds,changeText:"X秒"},on:{end:function(t){arguments[0]=t=e.$handleEvent(t),e.end.apply(void 0,arguments)},start:function(t){arguments[0]=t=e.$handleEvent(t),e.start.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.codeChange.apply(void 0,arguments)}}}),n("u-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[e._v(e._s(e.tips))])],1)],2),n("u-input",{attrs:{placeholder:"请输入邀请码",border:"bottom",color:"#000"},model:{value:e.InvitationCode,callback:function(t){e.InvitationCode=t},expression:"InvitationCode"}},[n("u--text",{attrs:{slot:"prefix",text:"邀请码",margin:"0 3px 0 0",type:"info"},slot:"prefix"})],1)],1),n("u-button",{attrs:{color:"#1F64FF",customStyle:{height:"48px"}},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goToLogin.apply(void 0,arguments)}}},[e._v("注册")]),n("v-uni-view",{staticClass:"agree_text_right",staticStyle:{"margin-top":"20rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toLogin.apply(void 0,arguments)}}},[e._v("已有账号？立即登录")]),n("v-uni-view",{staticClass:"agree"},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[n("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},[n("v-uni-label",[n("v-uni-checkbox",{staticStyle:{transform:"scale(0.7)"},attrs:{value:"1"}})],1)],1),n("v-uni-text",{staticClass:"agree_text"},[e._v("注册代表同意")]),n("v-uni-text",{staticClass:"agree_text_right",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.checkAgree.apply(void 0,arguments)}}},[e._v("《用户协议》")]),n("v-uni-text",{staticClass:"agree_text"},[e._v("和")]),n("v-uni-text",{staticClass:"agree_text_right",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.checkSecret.apply(void 0,arguments)}}},[e._v("《隐私协议》")])],1)],1)],1)},a=[]},a06a:function(e,t,n){"use strict";var o=n("c2ba"),i=n.n(o);i.a},c120:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */#phone[data-v-16eb0522]{padding:32px}#phone .hello[data-v-16eb0522]{font-family:PingFang SC;font-style:normal;font-weight:500;font-size:32px;line-height:45px}#phone .title[data-v-16eb0522]{font-weight:400;font-size:16px;line-height:22px;margin-bottom:35px}#phone .loginInput[data-v-16eb0522]{margin-bottom:61px}#phone .loginInput[data-v-16eb0522] .u-input{height:48px;padding-right:1px;margin-bottom:12px}#phone .loginInput[data-v-16eb0522] .u-text__value--info{color:#333}#phone .loginInput[data-v-16eb0522] .u-button{width:100px;height:46px;border:none;color:#1f64ff;font-style:normal;font-weight:500;font-size:14px}#phone .agree[data-v-16eb0522]{position:fixed;bottom:%?80?%;left:0;right:0}#phone .agree .agree_text[data-v-16eb0522]{font-style:normal;font-weight:500;font-size:%?26?%;color:#222}.agree_text_right[data-v-16eb0522]{font-style:normal;font-weight:500;font-size:%?26?%;color:#1f64ff}.key_cont[data-v-16eb0522]{width:100%;background-color:#fff;border-radius:%?20?%;\r\n  /* padding: 0upx 0 0 0; */display:flex;flex-direction:column;align-items:center;justify-content:center}.title[data-v-16eb0522]{font-weight:500;font-size:%?32?%;line-height:%?48?%;color:#333;margin-bottom:%?32?%}.input_code[data-v-16eb0522]{display:flex;width:100%}.add_img[data-v-16eb0522]{width:40%;height:%?90?%;margin-left:%?10?%}',""]),e.exports=t},c2ba:function(e,t,n){var o=n("c120");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("f89488e6",o,!0,{sourceMap:!1,shadowMode:!1})}}]);